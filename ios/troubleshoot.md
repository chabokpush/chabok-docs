---
id: troubleshoot
title: عیب یابی آی‌او‌اس
layout: ios
permalink: ios/troubleshoot.html
prev: features.html
---

## پوش‌نوتیفیکیشن

در این بخش به مشکلات متداول در پیام‌رسانی چابک خواهیم پرداخت.

### پوش نمی‌گیرم:

منشا و دلیل اصلی مشکل دریافت نکردن پوش در راه‌اندازی غیر صحیح یا ناقص چابک می‌باشد. در ادامه این مشکل را در دو حالت باز (Forground یا Background) و بسته (Terminated) بودن مرورگر بررسی خواهیم کرد.

#### حالت Foreground یا Background اپلیکیشن

#### ۱- عدم ثبت موفق دستگاه کاربر

در صورتی که شما دستگاه را با `userId` که ثبت کردید در بخش مشترکین پنل مشاهده نکردید به نکات زیر توجه فرمایید:

- دقت کنید که وی‌پی‌ان دستگاه حتما خاموش باشد.

- از تعیین درست محیط چابک (آزمایشی و عملیاتی) توسط متد `setDevelopment` اطمینان یابید.

- از وارد کردن صحیح اطلاعات حساب(`appId`, `APIKey`, `username`, `password`) اطمینان یابید. 


پس از بررسی نکات بالا دستگاه شما باید در بخش مشترکین پنل آمده باشد. علاوه بر آن شما می‌توانید از اتصال یا عدم اتصال دستگاه از مشاهده **نوار سبز رنگ** در بالای کارت مطلع شوید.

#### ۲- عدم عضویت کاربر در کانال ارسالی پیام

در صورت مشاهده دستگاه کاربر در بخش مشترکین پنل، از عضویت کاربر در کانالی که با آن پیام خود را ارسال می‌کنید اطمینان یابید. برای اینکه کانال‌هایی که کاربرتان در آن‌ها عضو هستند را مشاهده می‌کنید، می‌توانید روی آیکون ![کانال‌ها](http://uupload.ir/files/24jn_channels.png) در کارت هر دستگاه در بخش مشترکین پنل کلیک کنید.

![کانال‌ها](http://uupload.ir/files/vfd5_channelss.png
)

#### ۳- عدم ورود صحیح اطلاعات حساب (خطای internal server error)

در صورت دریافت خطای فوق در **xcode log** از وارد کردن اطلاعات حساب (`appId`, `APIKey`, `username`, `password`) خود اطمینان یابید.

#### حالت Terminated اپلیکیشن

#### ۱- عدم پیاده‌سازی مراحل ۱ و ۲ بالا

در ابتدا از انجام صحیح مراحل اول و دوم در بالا یعنی ثبت موفق کاربر و عضویت در کانال ارسالی اطمینان یابید.

#### ۲- تنظیم غیر صحیح پوش‌نوتیفیکیشن برای هر پلتفرم

از وارد کردن صحیح اطلاعات دسترسی پوش‌نوتیفیکیشن در هر پلتفرم از [بخش تنظیمات پنل قسمت پلتفرم‌ها](https://doc.chabokpush.com/panel/settings.html#%D9%BE%D9%84%D8%AA%D9%81%D8%B1%D9%85%D9%87%D8%A7) اطمینان یابید.
در صورت مشاهده متن **غیرفعال** در کارت تنظیمات هر پلتفرم، دستگاه به بخش مشترکین اضافه نشده است. برای مثال اگر تنظیمات پوش‌نوتیفیکیشن آی‌اواس را به درستی انجام داده باشید ولی دستگاه  آی‌اواس به بخش مشترکین اضافه نشده باشد بر روی کارت تنظیمات پوش‌نوتیفیکیشن آی‌اواس متن غیرفعال را مشاهده خواهید کرد.

#### ۳- عدم اجرا روی Simulator 

در سیستم‌عامل آی‌او‌اس امکان دریافت پوش‌نویفیکیشن بر روی Simulator  وجود ندارد.

> `نکته:‍` توجه داشته باشید هنگامی که گواهی **sandbox اپل** را در پنل تستی قرار می‌دهید، فقط امکان دریافت Cloud Messaging در **حالت debug** وجود خواهد داشت. اما اگر گواهی **production اپل** را در محیط عملیاتی قرار دهید، زمانی Cloud Messaging را دریافت خواهید کرد که اقدام به ساخت **ipa** از پروژه خود کرده و از طریق TestFlight یا Enterprise اپلیکیشن خود را نصب کنید.

#### ۴- باز نبودن اپلیکیشن

در پنل حساب کاربری خود در بخش پیام‌ها، **دایره زرد رنگ** به معنی **در صف بود پیام** شما می‌باشد و زمانی که کاربر به چابک متصل شود (اپ را باز کند) پیام را دریافت می‌کند. در بخش نوتیفیکیشن در صورت ارسال موفق پوش نوتیفیکیشن به سرور هر پلتفرم تیک سبز رنگ به همراه لوگو پلتفرم به معنی ارسال موفق پیام به سرور پلتفرم برای ارسال پوش‌نوتیفیکیشن است. همچنین در صورت مشاهد خطای **GONE** به این معنی است که کاربر اپلیکیشن شما را حذف کرده است. در صورت مشاهده خطای **deviceTokenNotForTopic** به این معنی است که اطلاعات پلتفرم آی‌او‌اس که در پنل ما قرار داده‌اید با اپلیکیشنی روی دستگاه خودت نصب کرده‌اید همخوانی ندارد.این نمادها را می‌توانید به صورت کامل در [مستندات پنل بخش پیام‌ها](https://doc.chabokpush.com/panel/inbox.html#نمادهای-وضعیت-پیام) مشاهده کنید.




<Br>


## اعلان‌ها

در این بخش به مشکلات متداول مربوط به اعلان‌ها (Notifications) می‌پردازیم.

### اعلان‌ها نمایش داده نمی‌شوند:

یکی از مشکلات متداول اعلان‌ها عدم نمایش آن‌ها در دستگاه مخاطب است. در این قسمت به دلایل احتمالی این مشکل اشاره‌ خواهیم کرد.

#### ۱- اپلکیشن روی صفحه نمایش باز است

در حالت پیش‌فرض، اعلان‌ها در زمانی که اپلیکیشن روی دستگاه شما **باز** و **نمایان** است، نشان داده نمی‌شوند.


#### ۲- قرار دادن اکشن کلیک و محتوا در اعلان 

زمانی که این آپشن‌ها گذاشته می‌شوند باید تنظیمات اپ به‌ درستی ذخیره شده باشد و اپلیکیشن در حالت **Force Kill** نباشد.


#### ۳- گزینه دریافت پوش برای اپلیکیشن غیر‌فعال شده است

تنظیمات نوتیفیکیشن در صفحه Settings > Notifications را چک کنید. در صورت خاموش بودن گزینه نوتیفیکیشن، آن را فعال نمایید.


#### ۴- مشکل اتصال به اینترنت دارید
  شبکه اینترنتی که به آن وصل هستید ممکن است اتصال شما به سرورهای گوگل یا اپل را بسته باشد. در این حالت می‌توانید قطع و وصل کردن اینترنت خود را امتحان کنید.

 
