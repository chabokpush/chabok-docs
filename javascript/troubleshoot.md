---
id: troubleshoot
title: عیب یابی جاوا اسکریپت
layout: javascript
permalink: javascript/troubleshoot.html
prev: features.html
---

## پوش‌نوتیفیکیشن

در این بخش به مشکلات متداول در پیام‌رسانی چابک خواهیم پرداخت.

### پوش نمی‌گیرم:

منشا و دلیل اصلی مشکل دریافت نکردن پوش در راه‌اندازی غیر صحیح یا ناقص چابک می‌باشد. در ادامه این مشکل را در دو حالت باز (Forground)  و بسته یا پس‌زمینه (Terminated یا Background) بودن مرورگر بررسی خواهیم کرد.

#### حالت Foreground مرورگر

در این حالت تب مرورگر شما باز و نمایان است.

#### ۱- عدم ثبت موفق دستگاه کاربر

در صورتی که شما دستگاه را با `userId` که ثبت کردید در بخش مشترکین پنل مشاهده نکردید به نکات زیر توجه فرمایید:

- دقت کنید که وی‌پی‌ان دستگاه حتما خاموش باشد.

- از تعیین درست محیط چابک (آزمایشی و عملیاتی) در مقداردهی اولیه اطمینان یابید.

- از وارد کردن صحیح اطلاعات حساب (`appId`, `APIKey`, `username`, `password`) اطمینان یابید. 


پس از بررسی نکات بالا دستگاه شما باید در بخش مشترکین پنل آمده باشد. علاوه بر آن شما می‌توانید از اتصال یا عدم اتصال دستگاه از مشاهده **نوار سبز رنگ** در بالای کارت مطلع شوید.

#### ۲- عدم عضویت کاربر در کانال ارسالی پیام

در صورت مشاهده دستگاه کاربر در بخش مشترکین پنل، از عضویت کاربر در کانالی که با آن پیام خود را ارسال می‌کنید اطمینان یابید. برای اینکه کانال‌هایی که کاربرتان در آن‌ها عضو هستند را مشاهده می‌کنید، می‌توانید روی آیکون ![کانال‌ها](http://uupload.ir/files/24jn_channels.png) در کارت هر دستگاه در بخش مشترکین پنل کلیک کنید.

![کانال‌ها](http://uupload.ir/files/vfd5_channelss.png
)

#### ۳- عدم ورود صحیح اطلاعات حساب (خطای internal server error)

در صورت دریافت خطای فوق در **console** از وارد کردن اطلاعات حساب (`appId`, `APIKey`, `username`, `password`) خود اطمینان یابید.

#### حالت Terminated یا Background مرورگر

درصورتی که شما [Service Worker را به پروژه خود اضافه کرده باشید](https://doc.chabokpush.com/javascript/installation.html#%D8%A7%D9%81%D8%B2%D9%88%D8%AF%D9%86-service-worker) می‌توانید وب پوش را در حالت بسته یا پس‌زمینه بودن مرورگر هم دریافت کنید. 

#### ۱- عدم پیاده‌سازی مراحل ۱ و ۲ بالا

در ابتدا از انجام صحیح مراحل اول و دوم در بالا یعنی ثبت موفق کاربر و عضویت در کانال ارسالی اطمینان یابید.

#### ۲- تنظیم غیر صحیح پوش‌نوتیفیکیشن برای هر پلتفرم

از وارد کردن صحیح اطلاعات دسترسی پوش‌نوتیفیکیشن در هر پلتفرم از [بخش تنظیمات پنل قسمت پلتفرم‌ها](https://doc.chabokpush.com/panel/settings.html#%D9%BE%D9%84%D8%AA%D9%81%D8%B1%D9%85%D9%87%D8%A7) اطمینان یابید.
در صورت مشاهده متن **غیرفعال** در کارت تنظیمات هر پلتفرم، دستگاه به بخش مشترکین اضافه نشده است. برای مثال اگر تنظیمات پوش‌نوتیفیکیشن وب را به درستی انجام داده باشید ولی دستگاه به بخش مشترکین اضافه نشده باشد بر روی کارت تنظیمات پوش‌نوتیفیکیشن وب متن غیرفعال را مشاهده خواهید کرد.

#### ۳- شروع نکردن (initialize) پروژه چابک

برای شروع کردن پروژه چابک لازم است یک نمونه از کلاس `chabokpush` بسازید و آن را مقداردهی نمایید. در غیر این صورت با خطای زیر مواجه خواهید شد.

```bash
AdpPushClient not initialized yet, please first call AdpPushClient.get with parameters
```

#### ۴- باز نبودن مرورگر

در پنل حساب کاربری خود در بخش پیام‌ها، **دایره زرد رنگ** به معنی **در صف بود پیام** شما می‌باشد و زمانی که کاربر به چابک متصل شود (تب را باز کند) پیام را دریافت می‌کند. در بخش نوتیفیکیشن در صورت ارسال موفق پوش نوتیفیکیشن به سرور هر پلتفرم تیک سبز رنگ به همراه لوگو پلتفرم به معنی ارسال موفق پیام به سرور پلتفرم برای ارسال پوش‌نوتیفیکیشن است. این نمادها را می‌توانید به صورت کامل در [مستندات پنل بخش پیام‌ها](https://doc.chabokpush.com/panel/inbox.html#نمادهای-وضعیت-پیام) مشاهده کنید.


## اعلان‌ها

در این بخش به مشکلات متداول مربوط به اعلان‌ها (Notifications) می‌پردازیم.

### اعلان‌ها نمایش داده نمی‌شوند:

یکی از مشکلات متداول اعلان‌ها عدم نمایش آن‌ها در دستگاه مخاطب است. در این قسمت به دلایل احتمالی این مشکل اشاره‌ خواهیم کرد.

#### ۱- مشکل اتصال به اینترنت دارید

شبکه اینترنتی که به آن وصل هستید ممکن است اتصال شما به سرورهای گوگل یا اپل را بسته باشد. در این حالت می‌توانید قطع و وصل کردن اینترنت خود را امتحان کنید.


#### ۲- مرورگر در حالت تمام صفحه (Full Screen) است 

در حالتی که مرورگر شما در حالت تمام صفحه (Full Screen) باشد، اعلان نمایش داده نخواهد شد.


#### ۳- اعلان‌ها روی مرورگر دستگاه شما بلاک شده است

دقت داشته باشید که در تنظیمات مرورگر شما نوتیفیکیشن‌ها خاموش یا بلاک نشده باشند. 
